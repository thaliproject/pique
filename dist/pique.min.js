!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.pique=n():e.pique=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){(function(n){"use strict";function t(){this._globalPromise=r.resolve(!0),this._promiseFunctionArray=[]}function o(e,n){return function(t){e(t),n()}}var r=n.Promise;t.configure=function(e){r=e},t.prototype._changeQueue=function(e,n){var t=this;return new r(function(i,u){n({fn:e,localResolve:i,localReject:u}),t._globalPromise=t._globalPromise.then(function(){return new r(function(e){var n=t._promiseFunctionArray.shift();n.fn(o(n.localResolve,e),o(n.localReject,e))})})})},t.prototype.push=function(e){var n=this;return n._changeQueue(e,function(e){n._promiseFunctionArray.push(e)})},t.prototype.unshift=function(e){var n=this;return n._changeQueue(e,function(e){n._promiseFunctionArray.unshift(e)})},e.exports=t}).call(n,function(){return this}())}])});